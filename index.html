<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Lan√ßamento de Perca de Partida</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Bot√£o de altern√¢ncia de tema -->
  <button id="botao-tema">üåô Tema Escuro</button>

  <!-- Formul√°rio principal -->
  <form id="form-perca" autocomplete="off">
    <h2>Lan√ßamento de Perca de Partida</h2>

    <label for="linha">Linha</label>
    <input type="text" id="linha" required />

    <label for="data">Data</label>
    <input type="date" id="data" readonly tabindex="-1" />

    <label for="sentido">Sentido</label>
    <select id="sentido" required>
      <option value="">Selecione</option>
      <option value="ida">Ida</option>
      <option value="volta">Volta</option>
    </select>

    <label for="horario">Hor√°rio</label>
    <input type="time" id="horario" required />

    <label for="codigo">C√≥digo de Perca</label>
    <input type="text" id="codigo" required maxlength="1" oninput="atualizarDescricaoCodigo()" />
    <div id="codigo-descricao" class="codigo-desc"></div>

    <div id="campos-extras"></div>

    <button type="submit">Lan√ßar</button>
    <button type="button" onclick="exportarExcel()">Exportar Excel</button>
    <button type="button" onclick="excluirTodasPercas()">Excluir Todas</button>
  </form>

  <!-- Lista de lan√ßamentos -->
  <div class="lista">
    <h3>Percas Lan√ßadas</h3>
    <div class="filtros">
      <label for="filtro-linha">Filtrar Linha:</label>
      <input type="text" id="filtro-linha" placeholder="Linha" />
      <label for="filtro-sentido">Filtrar Sentido:</label>
      <select id="filtro-sentido">
        <option value="">Todos</option>
        <option value="ida">Ida</option>
        <option value="volta">Volta</option>
      </select>
    </div>
    <table>
      <thead>
        <tr>
          <th>Linha</th>
          <th>Sentido</th>
          <th>Hor√°rio</th>
          <th>Ocorr√™ncia</th>
          <th>A√ß√µes</th>
        </tr>
      </thead>
      <tbody id="lista-percas"></tbody>
    </table>
  </div>

  <!-- Modal de Edi√ß√£o -->
  <div id="modal-edicao" class="modal hidden">
    <form id="form-edicao" autocomplete="off">
      <h3>Editar Perca</h3>
      <div id="campos-edicao"></div>
      <div class="botoes-modal">
        <button type="submit">Salvar</button>
        <button type="button" id="cancelar-edicao">Cancelar</button>
      </div>
    </form>
  </div>

  <!-- Bibliotecas e scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
